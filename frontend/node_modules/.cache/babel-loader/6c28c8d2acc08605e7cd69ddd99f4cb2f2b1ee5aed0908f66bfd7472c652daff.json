{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Manoli\\\\Desktop\\\\Learn Programming\\\\frontend\\\\src\\\\components\\\\Snake.js\";\nimport React, { Component } from 'react';\nimport '../css/Snake.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HEIGHT = 10;\nconst WIDTH = 10;\nconst emptyRows = () => [...Array(WIDTH)].map(_ => [...Array(HEIGHT)].map(_ => 'grid-item'));\nconst getRandom = () => {\n  return {\n    x: Math.floor(Math.random() * WIDTH),\n    y: Math.floor(Math.random() * HEIGHT)\n  };\n};\nconst increaseSpeed = speed => speed - 10 * (speed < 10);\nconst LEFT = 37;\nconst UP = 38;\nconst RIGHT = 39;\nconst DOWN = 40;\nconst STOP = 32;\nconst initialState = {\n  rows: emptyRows(),\n  snake: [getRandom()],\n  food: getRandom(),\n  direction: STOP,\n  speed: 100\n};\nclass Snake extends Component {\n  constructor() {\n    super();\n    this.movement = () => {\n      let snakeCopy = [...this.state.snake];\n      let head = {\n        ...snakeCopy[snakeCopy.length - 1]\n      };\n      switch (this.state.direction) {\n        case LEFT:\n          head.y += -1;\n          break;\n        case UP:\n          head.x += -1;\n          break;\n        case RIGHT:\n          head.y += 1;\n          break;\n        case DOWN:\n          head.x += 1;\n          break;\n        default:\n          return;\n      }\n      head.x += HEIGHT * ((head.x < 0) - (head.x >= HEIGHT));\n      head.y += WIDTH * ((head.y < 0) - (head.y >= WIDTH));\n      snakeCopy.push(head);\n      snakeCopy.shift();\n      this.setState({\n        snake: snakeCopy,\n        head: head\n      });\n      this.update();\n    };\n    this.changeDirection = _ref => {\n      let {\n        keycode\n      } = _ref;\n      let direction = this.state.direction;\n      switch (keycode) {\n        case LEFT:\n          direction = direction === RIGHT ? RIGHT : LEFT;\n          break;\n        case RIGHT:\n          direction = direction === LEFT ? LEFT : RIGHT;\n          break;\n        case UP:\n          direction = direction === DOWN ? DOWN : UP;\n          break;\n        case DOWN:\n          direction = direction === UP ? UP : DOWN;\n          break;\n        case STOP:\n          direction = STOP;\n          break;\n        default:\n          break;\n      }\n      this.setState({\n        direction: direction\n      });\n    };\n    this.state = initialState;\n  }\n  correctAnswer() {\n    let snakeCopy = {\n      ...this.state.snake\n    };\n    let head = {\n      ...snakeCopy[snakeCopy.length - 1]\n    };\n    let food = this.state.food;\n    if (head.x === food.x && head.y === food.y) {\n      snakeCopy.push(head);\n      this.setState({\n        snake: snakeCopy,\n        food: getRandom(),\n        speed: increaseSpeed(this.state.speed)\n      });\n    }\n  }\n  characterDeath() {\n    let snake = this.state.snake;\n    let head = {\n      ...snake[snake.length - 1]\n    };\n    for (let i = 0; i < snake.length - 3; i++) {\n      if (head.x === snake[i].x && head.y === snake[i].y) {\n        this.setState(initialState);\n        alert(`game over: ${snake.length * 10}`);\n      }\n    }\n  }\n\n  /* Changes the direction the snake is moving based on the keyboard input.\r\n     Can't go back the direction you are coming from. ex. Checks if already going RIGHT before changing direction to LEFT. */\n\n  componentDidMount() {\n    setInterval(this.moveSnake, this.state.speed);\n    document.onkeydown = this.changeDirection;\n  }\n  componentDidUpdate() {\n    this.characterDeath();\n    this.correctAnswer();\n  }\n  update() {\n    let newRows = emptyRows();\n    this.state.snake.forEach(element => newRows[element.x][element.y] = 'snake');\n    newRows[this.state.food.x][this.state.food.y] = 'food';\n    this.setState({\n      rows: newRows\n    });\n  }\n  render() {\n    const displayRows = this.state.rows.map((row, i) => row.map((value, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n      name: `${i}=${j}`,\n      className: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }, this)));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"a\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"gameBoard\",\n          children: displayRows\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Snake;","map":{"version":3,"names":["React","Component","HEIGHT","WIDTH","emptyRows","Array","map","_","getRandom","x","Math","floor","random","y","increaseSpeed","speed","LEFT","UP","RIGHT","DOWN","STOP","initialState","rows","snake","food","direction","Snake","constructor","movement","snakeCopy","state","head","length","push","shift","setState","update","changeDirection","keycode","correctAnswer","characterDeath","i","alert","componentDidMount","setInterval","moveSnake","document","onkeydown","componentDidUpdate","newRows","forEach","element","render","displayRows","row","value","j"],"sources":["C:/Users/Manoli/Desktop/Learn Programming/frontend/src/components/Snake.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport '../css/Snake.css';\r\n\r\nconst HEIGHT = 10;\r\nconst WIDTH = 10;\r\n\r\nconst emptyRows = () => [...Array(WIDTH)].map((_)=>\r\n                        [...Array(HEIGHT)].map((_)=> 'grid-item'));\r\n\r\nconst getRandom = () => {\r\n    return {\r\n        x: Math.floor(Math.random() * WIDTH),\r\n        y: Math.floor(Math.random() * HEIGHT)\r\n    }\r\n}\r\n\r\nconst increaseSpeed = (speed) => speed - 10 * (speed < 10);\r\n\r\nconst LEFT  = 37; \r\nconst UP    = 38;\r\nconst RIGHT = 39; \r\nconst DOWN  = 40;\r\nconst STOP  = 32;\r\n\r\nconst initialState = {\r\n    rows: emptyRows(),\r\n    snake: [getRandom()],\r\n    food: getRandom(),\r\n    direction: STOP,\r\n    speed: 100,\r\n}\r\n\r\n\r\nclass Snake extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = initialState;\r\n    }\r\n\r\n\r\n    movement = () => {\r\n        let snakeCopy = [...this.state.snake];\r\n        let head = {...snakeCopy[snakeCopy.length - 1]};\r\n\r\n        switch(this.state.direction) {\r\n            case LEFT:\r\n                head.y += -1;\r\n                break;\r\n            case UP:\r\n                head.x += -1;\r\n                break;\r\n            case RIGHT:\r\n                head.y += 1;\r\n                break;\r\n            case DOWN:\r\n                head.x += 1;\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n\r\n        head.x += HEIGHT * ((head.x < 0) - (head.x >= HEIGHT));\r\n        head.y += WIDTH * ((head.y < 0) - (head.y >= WIDTH));\r\n\r\n        snakeCopy.push(head);\r\n        snakeCopy.shift()\r\n        this.setState({\r\n            snake: snakeCopy,\r\n            head: head\r\n        });\r\n\r\n        this.update();\r\n    }\r\n\r\n\r\n    correctAnswer() {\r\n        let snakeCopy = {...this.state.snake};\r\n        let head = {...snakeCopy[snakeCopy.length - 1]};\r\n        let food = this.state.food;\r\n\r\n        if((head.x === food.x) && (head.y === food.y)) {\r\n            snakeCopy.push(head);\r\n            this.setState({\r\n                snake: snakeCopy,\r\n                food: getRandom(),\r\n                speed: increaseSpeed(this.state.speed)\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    characterDeath() {\r\n        let snake = this.state.snake;\r\n        let head = {...snake[snake.length - 1]};\r\n        for(let i = 0; i < snake.length - 3; i++) {\r\n            if((head.x === snake[i].x) && (head.y === snake[i].y)) {\r\n                this.setState(initialState);\r\n                alert(`game over: ${snake.length * 10}`)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /* Changes the direction the snake is moving based on the keyboard input.\r\n       Can't go back the direction you are coming from. ex. Checks if already going RIGHT before changing direction to LEFT. */\r\n    changeDirection = ({keycode}) => {\r\n        let direction = this.state.direction;\r\n        switch (keycode) {\r\n            case LEFT:\r\n                direction = (direction === RIGHT)? RIGHT : LEFT;\r\n                break;\r\n            case RIGHT:\r\n                direction = (direction === LEFT)? LEFT: RIGHT;\r\n                break;\r\n            case UP:\r\n                direction = (direction === DOWN)? DOWN: UP;\r\n                break;\r\n            case DOWN:\r\n                direction = (direction === UP)? UP: DOWN;\r\n                break;\r\n            case STOP:\r\n                direction = STOP;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({\r\n            direction: direction\r\n        });\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        setInterval(this.moveSnake, this.state.speed);\r\n        document.onkeydown = this.changeDirection;\r\n    }\r\n\r\n\r\n    componentDidUpdate() {\r\n        this.characterDeath();\r\n        this.correctAnswer();\r\n    }\r\n\r\n\r\n    update() {\r\n        let newRows = emptyRows();\r\n        this.state.snake.forEach(element => newRows[element.x][element.y] = 'snake');\r\n        newRows[this.state.food.x][this.state.food.y] = 'food';\r\n        this.setState({\r\n            rows: newRows\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const displayRows = this.state.rows.map((row, i) => \r\n            row.map((value, j) => \r\n                <div name={`${i}=${j}`} className={value} />))\r\n\r\n        return (\r\n            <div className='a'>\r\n                {/** \r\n                <div id=\"questions\">\r\n                    <p>This is where the questions will go.</p>\r\n                    <p>And the options somewhere here.</p>\r\n                </div>\r\n                */}\r\n                <div id=\"container\">\r\n                    <div id=\"gameBoard\">\r\n                        {displayRows}\r\n                    </div>\r\n                </div>\r\n                {/** \r\n                <div id=\"score\">\r\n                    <p>Score: </p>\r\n                </div>\r\n                */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Snake;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}